$date
   Tue Jan 27 17:20:01 2026
$end

$version
  2025.2
  $dumpfile ("mac_waves.vcd") 
$end

$timescale
  1ps
$end

$scope module tb_mac_top $end
$var reg 1 ! clk $end
$var reg 1 " rst_n $end
$var reg 1 # start $end
$var reg 1 $ clr_acc $end
$var reg 16 % A_in [15:0] $end
$var reg 16 & B_in [15:0] $end
$var reg 40 ' Accumulator [39:0] $end
$var reg 1 ( ready_mac $end
$scope module dut $end
$var wire 1 ) clk $end
$var wire 1 * rst_n $end
$var wire 1 + start $end
$var wire 1 , clr_acc $end
$var wire 16 - A_in [15:0] $end
$var wire 16 . B_in [15:0] $end
$var reg 40 ' Accumulator [39:0] $end
$var reg 1 ( ready_mac $end
$var reg 32 / internal_product [31:0] $end
$var reg 1 0 mult_done $end
$scope module multiplicador_inst $end
$var wire 1 ) clk $end
$var wire 1 * rst_n $end
$var wire 1 + start $end
$var wire 16 - m_in [15:0] $end
$var wire 16 . q_in [15:0] $end
$var reg 32 / result [31:0] $end
$var reg 1 0 ready $end
$var reg 1 1 load $end
$var reg 1 2 shift $end
$var reg 1 3 op_sel $end
$scope module control_unit $end
$var wire 1 ) clk $end
$var wire 1 * rst_n $end
$var wire 1 + start $end
$var reg 1 1 load $end
$var reg 1 2 shift $end
$var reg 1 3 op_sel $end
$var reg 1 0 ready $end
$var reg 2 4 state $end
$var reg 2 5 next_state $end
$var reg 5 6 bit_cnt [4:0] $end
$upscope $end
$scope module arithmetic_unit $end
$var wire 1 ) clk $end
$var wire 1 * rst_n $end
$var wire 16 - m_in [15:0] $end
$var wire 16 . q_in [15:0] $end
$var wire 1 7 load $end
$var wire 1 8 shift $end
$var wire 1 9 op_sel $end
$var reg 32 / product [31:0] $end
$var reg 17 : A [16:0] $end
$var reg 17 ; M [16:0] $end
$var reg 16 < Q [15:0] $end
$var reg 1 = q_prev $end
$upscope $end
$upscope $end
$scope module acumulador_inst $end
$var wire 1 ) clk $end
$var wire 1 * rst_n $end
$var wire 1 , clr_acc $end
$var wire 1 > acc_en $end
$var wire 32 ? product_in [31:0] $end
$var reg 40 ' acc_out [39:0] $end
$var reg 40 @ current_sum [39:0] $end
$var reg 40 A acc_reg [39:0] $end
$var reg 40 B product_ext [39:0] $end
$scope module mac_adder $end
$var wire 40 C a [39:0] $end
$var wire 40 D b [39:0] $end
$var reg 40 @ sum [39:0] $end
$upscope $end
$upscope $end
$upscope $end
$scope task multiply_and_add $end
$upscope $end
$upscope $end
$enddefinitions $end

#0
$dumpvars
0!
0"
0#
0$
b0 %
b0 &
b0 '
0(
0)
0*
0+
0,
b0 -
b0 .
b0 /
00
01
02
03
b0 4
b0 5
b0 6
07
08
09
b0 :
b0 ;
b0 <
0=
0>
b0 ?
b0 @
b0 A
b0 B
b0 C
b0 D
$end

#5000
1!
1)

#10000
0!
0)

#15000
1!
1)

#20000
0!
1"
0)
1*

#25000
1!
1)

#30000
0!
1$
0)
1,

#35000
1!
1)

#40000
0!
0$
0)
0,

#45000
1!
1)

#50000
0!
b1010 %
b101 &
0)
b1010 -
b101 .

#55000
1!
1#
1)
1+
b1 5

#60000
0!
0)

#65000
1!
0#
1)
0+
b1 4
b10 5

#70000
0!
0)

#75000
1!
1)
12
13
b10 4
18
19

#80000
0!
0)

#85000
1!
1)
12
13
b1 6

#90000
0!
0)

#95000
1!
1)
12
13
b10 6

#100000
0!
0)

#105000
1!
1)
12
13
b11 6

#110000
0!
0)

#115000
1!
1)
12
13
b100 6

#120000
0!
0)

#125000
1!
1)
12
13
b101 6

#130000
0!
0)

#135000
1!
1)
12
13
b110 6

#140000
0!
0)

#145000
1!
1)
12
13
b111 6

#150000
0!
0)

#155000
1!
1)
12
13
b1000 6

#160000
0!
0)

#165000
1!
1)
12
13
b1001 6

#170000
0!
0)

#175000
1!
1)
12
13
b1010 6

#180000
0!
0)

#185000
1!
1)
12
13
b1011 6

#190000
0!
0)

#195000
1!
1)
12
13
b1100 6

#200000
0!
0)

#205000
1!
1)
12
13
b1101 6

#210000
0!
0)

#215000
1!
1)
12
13
b1110 6

#220000
0!
0)

#225000
1!
1)
12
13
b11 5
b1111 6

#230000
0!
0)

#235000
1!
1(
1)
10
02
03
b11 4
b0 5
b10000 6
08
09
1>

#240000
0!
0)

#245000
1!
b10 %
b1111111111111101 &
0(
1)
b10 -
b1111111111111101 .
00
b0 4
0>

#250000
0!
0)

#255000
1!
1#
1)
1+
b1 5
b0 6

#260000
0!
0)

#265000
1!
0#
1)
0+
b1 4
b10 5

#270000
0!
0)

#275000
1!
1)
12
13
b10 4
18
19

#280000
0!
0)

#285000
1!
1)
12
13
b1 6

#290000
0!
0)

#295000
1!
1)
12
13
b10 6

#300000
0!
0)

#305000
1!
1)
12
13
b11 6

#310000
0!
0)

#315000
1!
1)
12
13
b100 6

#320000
0!
0)

#325000
1!
1)
12
13
b101 6

#330000
0!
0)

#335000
1!
1)
12
13
b110 6

#340000
0!
0)

#345000
1!
1)
12
13
b111 6

#350000
0!
0)

#355000
1!
1)
12
13
b1000 6

#360000
0!
0)

#365000
1!
1)
12
13
b1001 6

#370000
0!
0)

#375000
1!
1)
12
13
b1010 6

#380000
0!
0)

#385000
1!
1)
12
13
b1011 6

#390000
0!
0)

#395000
1!
1)
12
13
b1100 6

#400000
0!
0)

#405000
1!
1)
12
13
b1101 6

#410000
0!
0)

#415000
1!
1)
12
13
b1110 6

#420000
0!
0)

#425000
1!
1)
12
13
b11 5
b1111 6

#430000
0!
0)

#435000
1!
1(
1)
10
02
03
b11 4
b0 5
b10000 6
08
09
1>

#440000
0!
0)

#445000
1!
b1100100 %
b1010 &
0(
1)
b1100100 -
b1010 .
00
b0 4
0>

#450000
0!
0)

#455000
1!
1#
1)
1+
b1 5
b0 6

#460000
0!
0)

#465000
1!
0#
1)
0+
b1 4
b10 5

#470000
0!
0)

#475000
1!
1)
12
13
b10 4
18
19

#480000
0!
0)

#485000
1!
1)
12
13
b1 6

#490000
0!
0)

#495000
1!
1)
12
13
b10 6

#500000
0!
0)

#505000
1!
1)
12
13
b11 6

#510000
0!
0)

#515000
1!
1)
12
13
b100 6

#520000
0!
0)

#525000
1!
1)
12
13
b101 6

#530000
0!
0)

#535000
1!
1)
12
13
b110 6

#540000
0!
0)

#545000
1!
1)
12
13
b111 6

#550000
0!
0)

#555000
1!
1)
12
13
b1000 6

#560000
0!
0)

#565000
1!
1)
12
13
b1001 6

#570000
0!
0)

#575000
1!
1)
12
13
b1010 6

#580000
0!
0)

#585000
1!
1)
12
13
b1011 6

#590000
0!
0)

#595000
1!
1)
12
13
b1100 6

#600000
0!
0)

#605000
1!
1)
12
13
b1101 6

#610000
0!
0)

#615000
1!
1)
12
13
b1110 6

#620000
0!
0)

#625000
1!
1)
12
13
b11 5
b1111 6

#630000
0!
0)

#635000
1!
1(
1)
10
02
03
b11 4
b0 5
b10000 6
08
09
1>

#640000
0!
0)

#645000
1!
0(
1)
00
b0 4
0>

#650000
0!
0)

#655000
1!
1)
b0 6

#660000
0!
0)

#665000
1!
1)

#670000
0!
0)

#675000
1!
1)

#680000
0!
0)

#685000
1!
1)

#690000
0!
0)

#695000
1!
1)

#700000
0!
0)

#705000
1!
1)

#710000
0!
0)
